---
{}
---

## 前置条件

- 进入采购模块

## 步骤

1. 检查==物料编号==虚拟库存得数量: ==检查结果== 
2. 点击创建物料采购按钮: 跳转至创物物料采购页面
3. 点击添加物料按钮: 弹出添加物料弹窗
4. 勾选==需要采购得物料==: 被勾选得物料添加至创建物料采购页面
5. 编辑==采购数量==
6. 点击完成按钮: 物料采购单创建成功，返回物料清单页面
7. 检查虚拟库存是否增加采购单中填写得数量: ==检查结果== 
8. 点击一级菜单的仓库按钮: 进入物料清单页面
9. 点击流转表按钮: 进入流转表页面
10. 选择对应流转单并点击编辑按钮: 进入编辑页面
11. 编辑==入库批次==和==入库数量== 
12. 点击完成按钮: 成功创建入库单并返回流转单页面
13. 点击一级菜单的采购按钮: 进入采购记录页面
14. 点击编辑按钮: 进入物料采购单编辑页面
15. 点击关闭按钮: 弹出二次确认弹窗
16. 点击确认按钮: 成功关闭物料采购单并返回物料清单页面
17. 检查虚拟库存是否减少采购单中填写得数量: ==检查结果== 
18. 检查物料采购单得状态: 显示为关闭状态

## 测试数据

- 物料信息
	- 物料编号: CP00003
	- 采购数量: 50
- 创建采购单前
	- 虚拟库存: 10
	- 实际库存: 0
- 创建采购单后
	- 虚拟库存: 60
	- 实际库存: 0
- 创建入库单
	- 入库批次: A201
	- 入库数量: 20
	- 虚拟库存: 40
	- 实际库存: 20
- 关闭采购单后
	- 虚拟库存: 0
	- 实际库存: 20

## 历史结果
 ◻️未测    🚫跳过     ✅通过    ❌ 失败    ➖未创建
 
| 测试版本 | 测试结果 | bug编号 |
| ---- | ---- | ---- |
| S18 | ➖ | ➖ |
| S19 | ➖ | ➖ |
| S20 | ✅ | ➖ |
| S21 | 因需求变更，作废 |  |
