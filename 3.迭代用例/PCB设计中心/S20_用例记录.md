---
status: 完成
startTime: 2024-02-04
---

# 用例开发
## 仓库
**2024.02.20** 
- #### 已评审F
	- 流转表页面
		- 采购创建物料采购单后，仓库会自动生成物料流转表
			- [x] [[TCPD_0105-创建订单后会自动生成流转表且创建人一致]] 
		- 字段、按钮校验
			- [x] [[Test_8049-流传表页面字段和按钮校验]] 
		- 编辑页面显示字段及可编辑字段校验
			- [x] [[Test_8050-物料入库页面显示字段及可编辑字段校验]]  
		- 物料采购入库支持分批次入库功能，并记录入库单号
			- [x] [[TCPD_0108-流转单详情页面可以分批入库，并记录入库单号]]  
		- 流转表的物料入库后，显示的到货数量对应发生改变
			- [x] [[Test_8052-流转表中已入库的数量即为显示的到货数量]]  
		- 流转表页面搜索框支持备注字段模糊匹配
			- [x] [[Test_8053-流转表页面搜索框支持备注字段模糊匹配和流转单号精确搜索]] 
		- 流转表的物料入库后，实际库存的数量对应增加，虚拟库存对应减少
			- [x] [[Test_8054-流转表的物料入库后，入库的物料数量从待入库中减掉添加至实际库存中]] 
		- 通过流转表创建的出入库单中会显示相关的流转单号
			- [x] [[TCPD_0112-通过流转表创建的出入库单中会显示相关的流转单号]] 
		- 从流转单中创建的出入库单作废后，不显示重填按钮
			- [x] [[Test_8056-通过流传表生成的出入库单没有重填功能]] 
		- 流转表创建的出入库单作废后，返还实际库存和虚拟库存的数据并删除流转表中的出入库记录
			- [x] [[Test_8057-通过流转表创建的出入库单作废后，返还实际库存和虚拟库存并删除流转表中的出入库记录]] 
		- 物料存在于出入库单、采购单中，则不允许删除物料
			- [x] [[Test_8058-物料存在于出入库单或采购单中（无论单据状态），不允许删除物料]] 

## 采购
**2024.02.20** 
- #### 已评审
	- 物料清单页面
		- 创建物料采购后，采购数量计入虚拟库存中
			- [x] [[Test_10.0011-物料订单创建成功后，采购数量会计入虚拟库存中]] 
		- 每次创建一张物料采购单，仓库都会生成一张对应的流转表
			- [x] [[Test_10.0012-每创建一张物料订单，仓库都会生成一张对应的流转表]] 
		- 虚拟库存数量校验
			- [x] [[Test_10.0013-物料清单页面，虚拟库存数量=实际库存数量+待入库数量-待出库数量]] 
	- 物料采购详情页面 
		- 物料采购详情页面，显示物料到货数与对应流转单一致
			- [x] [[Test_10.0014-物料订单页面显示的到货数与流转表中的入库数量一致]] 
		- 物料采购详情页面字段、按钮校验
			- [x] [[Test_10.0015-物料订单详情页面显示字段、按钮校验]] 
		- 物料采购详情页面，点击关闭按钮可以修改物料采购单状态
			- [x] [[Test_10.0016-（作废）物料采购详情页面，点击关闭按钮可以修改物料采购单状态]] 
		- 物料采购详情页面，点击关闭按钮后物料未入库的数量会从虚拟库存中减掉
			- [x] [[Test_10.0017-（作废）提前关闭物料采购单，该物料单中未入库的数量会从虚拟库存中减掉]] 
			- [x] [[Test_10.0017.1-（作废）提前关闭物料采购单，已经入库的物料不会退回]] 
		- 物料采购单提前关闭后，流转单内显示总数归零
			- [x] [[Test_10.0018-（作废）物料采购单提前关闭后，仓库流转单内显示的总数归零]] 
		- 采购单内每个物料的到货数量大于等于采购数量时，关闭采购单不会返回虚拟库存
			- [x] [[Test_10.0019-（作废）采购单内每个物料的到货数量大于等于采购数量时，关闭采购单不会返回虚拟库存]] 

## CIS库
**2024.02.21** 
- #### 已评审
	- 虚拟库存
		- 点击更新本地MDB按钮时，库存字段更新
			- [x] [[Test_7014-cis库库存数量发生改变后，点击更新mdb文件时会同步更新]] 
		- 检查CIS库存字段显示为虚拟库存数量
			- [x] [[Test_7037-CIS库存字段显示数量为虚拟库存数量]] 
		- 虚拟库存数量校验
			- [x] [[Test_7038-虚拟库存数量=实际库存数量+待入库数量-待出库数量]] 

***

# 用例评审
## 仓库
- #### 修改/添加
	- 流转表生成出入库单时，需要二次确认 ------用例增加步骤
	- 从待入库数量中减少，虚拟库存数量不变
		- [x] [[Test_8054-流转表的物料入库后，入库的物料数量从待入库中减掉添加至实际库存中]] 
	- 通过流转表创建的出入库单没有重填功能
		- [x] [[Test_8056-通过流传表生成的出入库单没有重填功能]] 
	- 添加单据状态，只要出现过，无论单据当前状态
		- [x] [[Test_8058-物料存在于出入库单或采购单中（无论单据状态），不允许删除物料]] 
	- 通过流转表单次创建入库单数量大于采购总数，作废入库单
		- [x] [[Test_8059-通过流转表单次创建的入库单大于采购总数，作废入库单]] 
			- 待入库返回采购数量
			- 实际库存减少入库数量
	- 通过流转表多次创建入库单数量总和大于采购总数，作废其中一张入库单
		- [x] [[Test_8060-通过流转表多次创建入库单总和大于采购总数，作废入库单]] 
	- 最后一张被作废的入库单退回数量应抹平采购总数
		- [x] [[Test_8061-作废入库单后，入库数量小于采购数量时，数据抹平]] 
	- 采购单关闭后作废出入库单
		- [x] [[Test_8062-采购单关闭后，作废通过流转表创建的出入库单]] 
	- 作废出入库单后关闭采购单
		- [x] [[Test_8063-作废通过流转表创建的出入库单后，关闭对应的采购单]] 
	- 作废入库单时，剩余库存无法满足退还，则阻止作废该入库单
		- [x] [[Test_8064-通过流转单创建的出入库单，剩余库存无法满足退还时阻止作废该出入库单]] 
	- 通过流转单创建入库单时，如果所有物料入库数量为零则阻止提交
		- [x] [[Test_8065-通过流转单创建出入库单时，如果所有物料入库数量为零则阻止提交]] 
	- 流转单详情页面点击复制按钮可以多批次添加物，最后一条物料信息不能被删除
		- [x] [[Test_8066-流转单详情页面点击复制按钮可以多批次添加物料，并且最后一条物料信息不能被删除]] 

## 采购
- [x] 10.0011-检查器件虚拟库存数量
- [x] 10.0013-  -待出库

## CIS库
- 版本切换校验
- 隐藏正在被使用的器件不会影响该器件在仓库和采购中的正常使用



## 工具箱
**2024.02.27** 
- #### 修改/添加
	- 添加配置文件，适配更多测试场景
		- [x] [[Test_9002.1-配置文件内容yaml格式错误时，阻止计算并报错提示用户]] 
	- 更换测试PCB板，增加测试难度，查看是否连线是否会出线问题
		- [x] [[Test_9009-FreeConnect支持指定连接Reference，同时分配多个Reference时算法自行匹配]] 
	- FreeConnect前端配置文件校验 -- 整理所有前端校验用例，根据不同情况检查不同的报错反馈，重新设计用例
		- 配置文件可以根据使用工具单独编写，不填写其他工具时不会报错提示。
		- 配置文件中没有使用工具需要的数据时，报错提示
			- [x] [[Test_9010-Tcescape、Freeconnect配置文件前端校验]] 
	- 后端校验
		- 起点和终点数量通过前端校验后，后端校验不通过时，不会阻止计算，根据终点数量进行连线，完成计算后会有报错提示用户未完成连接的clines
			- [x] [[Test_9011-Tc、FreeConnect后端校验]] 
	- [x] 所有用例中添加相关需求，便于追踪



***

# 用例执行

### 仓库
- [[Test_8001-只有仓库管理员可以看到一级菜单的仓库按钮，点击仓库按钮后进入仓库模块]] ✅
- [[TCPD_0105-创建订单后会自动生成流转表且创建人一致]]  ✅
- [[Test_8049-流传表页面字段和按钮校验]] ❌
	- [x] 流转表页面搜索框位置在左侧，其他页面在右侧
	- [x] 流转表页面事由字段筛选框内得字段错误
- [[Test_8050-物料入库页面显示字段及可编辑字段校验]] ✅
- [[TCPD_0108-流转单详情页面可以分批入库，并记录入库单号]]  ❌
	- [x] 通过流转单创建的入库单没有记录入库单号
- [[Test_8052-流转表中已入库的数量即为显示的到货数量]] ✅
- [[Test_8053-流转表页面搜索框支持备注字段模糊匹配和流转单号精确搜索]] ✅
- [[Test_8054-流转表的物料入库后，入库的物料数量从待入库中减掉添加至实际库存中]] ✅
- [[Test_8055-通过流转表创建的出入库单中会显示相关的流转单号]] ❌
	- [x] 通过流转单创建得入库单没有显示流转单号
- [[Test_8056-通过流传表生成的出入库单没有重填功能]] ✅
- [[Test_8057-通过流转表创建的出入库单作废后，返还实际库存和虚拟库存并删除流转表中的出入库记录]] ✅
- [[Test_8058-物料存在于出入库单或采购单中（无论单据状态），不允许删除物料]] ✅
- [[Test_8059-通过流转表单次创建的入库单大于采购总数，作废入库单]] ✅
- [[Test_8060-通过流转表多次创建入库单总和大于采购总数，作废入库单]] ✅
- [[Test_8061-作废入库单后，入库数量小于采购数量时，数据抹平]] ✅
- [[Test_8062-采购单关闭后，作废通过流转表创建的出入库单]] ✅
- [[Test_8063-作废通过流转表创建的出入库单后，关闭对应的采购单]] ✅
- [[Test_8064-通过流转单创建的出入库单，剩余库存无法满足退还时阻止作废该出入库单]] ✅
- [[Test_8065-通过流转单创建出入库单时，如果所有物料入库数量为零则阻止提交]] ✅
- [[Test_8066-流转单详情页面点击复制按钮可以多批次添加物料，并且最后一条物料信息不能被删除]] ✅

### 采购
- [[Test_10.0006-创建物料订单页面，选择仓库位置与物料所在仓库位置一致]] ❌
	- [x] 创建上海的采购单后再点击添加物料后页面显示的物料信息仍是上海仓库的
- [[Test_10.0011-物料订单创建成功后，采购数量会计入虚拟库存中]] ✅
- [[Test_10.0012-每创建一张物料订单，仓库都会生成一张对应的流转表]] ✅
- [[Test_10.0013-物料清单页面，虚拟库存数量=实际库存数量+待入库数量-待出库数量]] ✅
- [[Test_10.0014-物料订单页面显示的到货数与流转表中的入库数量一致]] ✅
- [[Test_10.0015-物料订单详情页面显示字段、按钮校验]] ✅
- [[Test_10.0016-（作废）物料采购详情页面，点击关闭按钮可以修改物料采购单状态]] ✅
- [[Test_10.0017-（作废）提前关闭物料采购单，该物料单中未入库的数量会从虚拟库存中减掉]] ✅
- [[Test_10.0017.1-（作废）提前关闭物料采购单，已经入库的物料不会退回]] ✅
- [[Test_10.0018-（作废）物料采购单提前关闭后，仓库流转单内显示的总数归零]] ❌
- [[Test_10.0019-（作废）采购单内每个物料的到货数量大于等于采购数量时，关闭采购单不会返回虚拟库存]] ✅

### 工具箱
- [[Test_9002.1-配置文件内容yaml格式错误时，阻止计算并报错提示用户]] ❌
- [[Test_9007-FreeConnect计算结果导入对应PCB板进行校验]] ❌
- [[Test_9008-FreeConnect支持多Site连接，并兼容单Site连接]] ❌
- [[Test_9009-FreeConnect支持指定连接Reference，同时分配多个Reference时算法自行匹配]] 
- [[Test_9010-Tcescape、Freeconnect配置文件前端校验]] ✅
- [[Test_9011-Tc、FreeConnect后端校验]] 



***

<h1 align = "center" style="color: #000000"> 用例查补</h1>










