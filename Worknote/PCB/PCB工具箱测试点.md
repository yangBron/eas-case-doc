---
{}
---

# 文件数据及前端入参
1. 导出数据时应该打开**top**和**bottom**层
2. 导出数据时，应该打开**机械孔**，避免计算路径时忽略机械孔的范围
	- 打开方式：color/Areas/Route/All
3. TC Escape
	- up.txt和down.txt勾选器件：pins、vias、shapes、clines
		- ***更新：直接框选整块板子，前端自动识别前后左右可以连接的reference*** 
	- **避坑** 
		- config文件中reference不能有重复的数据，如果有重复数据只作用一次，数量不会叠加
		- 每一层配置的reference中包含的vias数量需要大于bga的出现数量，避免找不到终点的情况
4. BGA Escape
	- vias框选范围：DUT部分的vias
	- layer文件：layer名称和项目中的layer名称保持一致
1. Net Connect
	- pins：需要及时更新，避免出现文件内信息不匹配的情况导致DRC
2. Free Connect
	- 目前版本不需要包含netconnect的结果
### BGA Escape
##### 文件数据
- vias框选范围：DUT部分的vias
- config文件中配置的layer名称应该与板子中的layer名称保持一致，避免导入失败
##### 页面入参
- 目前选择pitch后会自动填写其他数据

### TC Escape
- 环境数据文件直接框选整块板子，前端自动识别前后左右可以连接的reference
- config文件中的reference不能有重复的数据，如果有重复数据也只作用一次 数量不会叠加
- 每一层配置的reference中包含的vias数量需要大于bga的出线数量，避免找不到终点导致连接失败的情况
### Net Connect
- 环境数据文件需要及时更新，避免出现文件内信息不匹配导致的DRC
### Free Connect
- 环境数据文件，框选的内容需要包含bga和tc的出线结果
- config文件中，每一层配置的reference中包含的via数量需要大于


# PCB测试板子
##### 90°排列
| 序号  | 项目编号        | 最小横间距(mm) | pitch(mm) |                 特性                  | S0  | S1  | S2  | S3  | S5  | S6  | S7  | S8  |
| --- | ----------- | :-------: | :-------: | :---------------------------------: | --- | --- | --- | --- | --- | --- | --- | --- |
| 1   | A21709      |    0.8    |    0.8    |                 2象限                 |     |     | ✅   | ✅   | ✅   |     |     |     |
| 2   | A21752      |    0.5    |    0.5    |                非满pin                |     |     |     |     |     | ✅   |     |     |
| 3   | A21778      |   0.35    |   0.35    |             上面两排非等pitch             |     |     | ✅   | ✅   | ✅   | ✅   |     |     |
| 4   | A21784      |   0.65    |   0.65    |               奇数列，4象限               |     |     |     |     |     | ✅   |     |     |
| 5   | A22156      |    0.8    |    0.8    |                冒烟用例                 | ✅   | ✅   | ✅   | ✅   | ✅   | ✅   | ✅   | ✅   |
| 6   | A22286      |    1.0    |    1.0    |                 4象限                 |     |     | ✅   | ✅   | ✅   |     |     |     |
| 7   | A22438      |    0.8    |    0.8    |                                     |     |     |     |     |     |     | ✅   |     |
| 8   | A22554      |    0.8    |    0.8    |                                     |     |     |     |     |     |     | ✅   |     |
| 9   | A22494      |   0.35    |   0.35    |         dut中心不是0,0点，人工拉线测试板         |     |     |     |     |     |     |     | ✅   |
| 10  | A22439      |   0.65    |   0.65    |                非满pin                |     |     |     |     |     |     |     |     |
| 11  | A22563      |    0.5    |    0.5    |                非满pin                |     |     |     |     |     |     |     |     |
| 12  | A22096      |   0.65    |   0.65    |                                     |     |     |     |     |     |     |     |     |
| 13  | A22175      |   0.65    |   0.65    |             空两圈via，补via             |     |     |     |     |     |     |     |     |
| 14  | A22238（不支持） |    1.0    |    1.0    | via在pin上和偏移打孔，两种盘直径，最内圈没有pin，四角缺pin |     |     |     |     |     |     |     |     |
| 15  | A22198（不支持） |    0.5    |    0.5    |              与A22238类似              |     |     |     |     |     |     |     |     |

##### 45°排列
| 序号  | 项目编号       | 最小横间距(mm) | pitch(mm) |     特性     | S2  | S3  | S5  | S6  | S7  | S8  |
| --- | ---------- | :-------: | :-------: | :--------: | --- | --- | --- | --- | --- | --- |
| 1   | A21706     |  0.5657   |    0.4    |   非满pin    |     |     |     | ✅   |     | ✅   |
| 2   | A21776     |   0.495   |   0.35    |   标准OS板    |     |     |     | ✅   |     | ✅   |
| 3   | A21818     |   0.566   |    0.4    |   标准OS板    |     |     |     | ✅   |     | ✅   |
| 4   | A22192     |   0.495   |   0.35    |   标准OS板    |     |     |     | ✅   |     | ✅   |
| 5   | A22362     |   0.495   |   0.35    | 标准OS，一个偏孔  |     |     |     | ✅   |     | ✅   |
| 6   | A22410     |   0.495   |   0.35    | 一列非等pitch  |     |     |     | ✅   |     |     |
| 7   | A22191     |   0.495   |   0.35    |    标准OS    |     |     |     |     |     | ✅   |
| 8   | A22573-ATE |   1.132   |    0.8    |   两种孔直径    |     |     |     |     |     | ✅   |
| 9   | A22174-老化  |   0.495   |   0.35    |    标准OS    |     |     |     |     |     | ✅   |
| 10  | A21817B-老化 |   0.566   |    0.4    | 满pin，top出线 |     |     |     |     |     | ✅   |
| 11  | A22361     |   0.495   |   0.35    |            | ✅   | ✅   | ✅   | ✅   |     |     |

# Routing测试集合
##### BGA Escape
- 通用检查
	- 出线数量测试：vias总数-GND-Power-Dummy-Ignore=出线数量
	- 相同net的via/pin不能重复出线
	- 出线不能有重叠、交叉、断开的情况
	- 人工出线后，算法需要避开人工出线
	- 出线层数：目前MLB45°的项目能满足OS类型的板子，对ATE等其他类型的板子出线层数并不理想
	- 出线结果需要满足前端入参限制：线线距、线盘距、线孔距、线宽，即实际结果≥入参
	- Top层出线的起点是pin，不能出在via上
	- Ignored_net_name中对应的pin/via不能出线
- MLB检查
	- MLB-45：OS板算法的出线层数≤人工出线层数
	- MLB算法出线折数≤3
	- MLB出线长度＜板子长边的三分之二

# 问题判定
- 数据排查
	- 检查板子中实际的盘直径与页面填写的盘直径是否一致
	- 检查框选的数据是否满足要求：
		- 打开TOP、Bottom层
		- 打开所有需要走线的层
		- 打开vias、pins、clines
		- 框选的范围为dut部分
	- 检查config文件中是否存在非法数据
	- 检查config文件中的配置是否满足期待结果
	- 希望避开的障碍是否在环境数据文件中体现(包括但不限于cline、pin、via)

# bug提交模板
- 标题
	- 【板块】+ 项目编号 + bug简述
- 内容
	- bug环境
	- 项目编号
	- 测试数据
		- 前端入参
		- 数据文件路径
	- bug描述
	- bug截图
- 期待结果